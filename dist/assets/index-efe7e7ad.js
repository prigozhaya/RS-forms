import{R as q,d as xt,e as re,f as bt,g as _t,h as wt,i as Vt,a as At,u as Ft,b as Dt,r as St,j as g,P as kt,s as jt}from"./index-88bb0971.js";var ue=e=>e.type==="checkbox",ie=e=>e instanceof Date,N=e=>e==null;const rt=e=>typeof e=="object";var E=e=>!N(e)&&!Array.isArray(e)&&rt(e)&&!ie(e),Et=e=>E(e)&&e.target?ue(e.target)?e.target.checked:e.target.value:e,Ot=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Tt=(e,s)=>e.has(Ot(s)),Nt=e=>{const s=e.constructor&&e.constructor.prototype;return E(s)&&s.hasOwnProperty("isPrototypeOf")},Te=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function K(e){let s;const i=Array.isArray(e);if(e instanceof Date)s=new Date(e);else if(e instanceof Set)s=new Set(e);else if(!(Te&&(e instanceof Blob||e instanceof FileList))&&(i||E(e)))if(s=i?[]:{},!i&&!Nt(e))s=e;else for(const r in e)e.hasOwnProperty(r)&&(s[r]=K(e[r]));else return e;return s}var oe=e=>Array.isArray(e)?e.filter(Boolean):[],k=e=>e===void 0,f=(e,s,i)=>{if(!s||!E(e))return i;const r=oe(s.split(/[,[\].]+?/)).reduce((o,l)=>N(o)?o:o[l],e);return k(r)||r===e?k(e[s])?i:e[s]:r},G=e=>typeof e=="boolean";const ze={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},U={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},z={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};q.createContext(null);var Ct=(e,s,i,r=!0)=>{const o={defaultValues:s._defaultValues};for(const l in e)Object.defineProperty(o,l,{get:()=>{const n=l;return s._proxyFormState[n]!==U.all&&(s._proxyFormState[n]=!r||U.all),i&&(i[n]=!0),e[n]}});return o},R=e=>E(e)&&!Object.keys(e).length,Lt=(e,s,i,r)=>{i(e);const{name:o,...l}=e;return R(l)||Object.keys(l).length>=Object.keys(s).length||Object.keys(l).find(n=>s[n]===(!r||U.all))},Se=e=>Array.isArray(e)?e:[e];function Mt(e){const s=q.useRef(e);s.current=e,q.useEffect(()=>{const i=!e.disabled&&s.current.subject&&s.current.subject.subscribe({next:s.current.next});return()=>{i&&i.unsubscribe()}},[e.disabled])}var $=e=>typeof e=="string",Rt=(e,s,i,r,o)=>$(e)?(r&&s.watch.add(e),f(i,e,o)):Array.isArray(e)?e.map(l=>(r&&s.watch.add(l),f(i,l))):(r&&(s.watchAll=!0),i),Ne=e=>/^\w*$/.test(e),st=e=>oe(e.replace(/["|']|\]/g,"").split(/\.|\[/));function V(e,s,i){let r=-1;const o=Ne(s)?[s]:st(s),l=o.length,n=l-1;for(;++r<l;){const v=o[r];let m=i;if(r!==n){const F=e[v];m=E(F)||Array.isArray(F)?F:isNaN(+o[r+1])?{}:[]}e[v]=m,e=e[v]}return e}var it=(e,s,i,r,o)=>s?{...i[e],types:{...i[e]&&i[e].types?i[e].types:{},[r]:o||!0}}:{},Ke=e=>({isOnSubmit:!e||e===U.onSubmit,isOnBlur:e===U.onBlur,isOnChange:e===U.onChange,isOnAll:e===U.all,isOnTouch:e===U.onTouched}),Ye=(e,s,i)=>!i&&(s.watchAll||s.watch.has(e)||[...s.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const ye=(e,s,i,r)=>{for(const o of i||Object.keys(e)){const l=f(e,o);if(l){const{_f:n,...v}=l;if(n){if(n.refs&&n.refs[0]&&s(n.refs[0],o)&&!r)break;if(n.ref&&s(n.ref,n.name)&&!r)break}else E(v)&&ye(v,s)}}};var Pt=(e,s,i)=>{const r=oe(f(e,i));return V(r,"root",s[i]),V(e,i,r),e},Ce=e=>e.type==="file",Z=e=>typeof e=="function",ge=e=>{if(!Te)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},he=e=>$(e),Le=e=>e.type==="radio",me=e=>e instanceof RegExp;const Ge={value:!1,isValid:!1},Ze={value:!0,isValid:!0};var nt=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(i=>i&&i.checked&&!i.disabled).map(i=>i.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!k(e[0].attributes.value)?k(e[0].value)||e[0].value===""?Ze:{value:e[0].value,isValid:!0}:Ze:Ge}return Ge};const Je={isValid:!1,value:null};var at=e=>Array.isArray(e)?e.reduce((s,i)=>i&&i.checked&&!i.disabled?{isValid:!0,value:i.value}:s,Je):Je;function Qe(e,s,i="validate"){if(he(e)||Array.isArray(e)&&e.every(he)||G(e)&&!e)return{type:i,message:he(e)?e:"",ref:s}}var se=e=>E(e)&&!me(e)?e:{value:e,message:""},Xe=async(e,s,i,r,o)=>{const{ref:l,refs:n,required:v,maxLength:m,minLength:F,min:_,max:D,pattern:p,validate:Y,name:L,valueAsNumber:xe,mount:ce,disabled:be}=e._f,x=f(s,L);if(!ce||be)return{};const P=n?n[0]:l,H=w=>{r&&P.reportValidity&&(P.setCustomValidity(G(w)?"":w||""),P.reportValidity())},O={},ne=Le(l),ee=ue(l),_e=ne||ee,B=(xe||Ce(l))&&k(l.value)&&k(x)||ge(l)&&l.value===""||x===""||Array.isArray(x)&&!x.length,J=it.bind(null,L,i,O),W=(w,b,S,C=z.maxLength,M=z.minLength)=>{const I=w?b:S;O[L]={type:w?C:M,message:I,ref:l,...J(w?C:M,I)}};if(o?!Array.isArray(x)||!x.length:v&&(!_e&&(B||N(x))||G(x)&&!x||ee&&!nt(n).isValid||ne&&!at(n).isValid)){const{value:w,message:b}=he(v)?{value:!!v,message:v}:se(v);if(w&&(O[L]={type:z.required,message:b,ref:P,...J(z.required,b)},!i))return H(b),O}if(!B&&(!N(_)||!N(D))){let w,b;const S=se(D),C=se(_);if(!N(x)&&!isNaN(x)){const M=l.valueAsNumber||x&&+x;N(S.value)||(w=M>S.value),N(C.value)||(b=M<C.value)}else{const M=l.valueAsDate||new Date(x),I=de=>new Date(new Date().toDateString()+" "+de),Q=l.type=="time",ae=l.type=="week";$(S.value)&&x&&(w=Q?I(x)>I(S.value):ae?x>S.value:M>new Date(S.value)),$(C.value)&&x&&(b=Q?I(x)<I(C.value):ae?x<C.value:M<new Date(C.value))}if((w||b)&&(W(!!w,S.message,C.message,z.max,z.min),!i))return H(O[L].message),O}if((m||F)&&!B&&($(x)||o&&Array.isArray(x))){const w=se(m),b=se(F),S=!N(w.value)&&x.length>+w.value,C=!N(b.value)&&x.length<+b.value;if((S||C)&&(W(S,w.message,b.message),!i))return H(O[L].message),O}if(p&&!B&&$(x)){const{value:w,message:b}=se(p);if(me(w)&&!x.match(w)&&(O[L]={type:z.pattern,message:b,ref:l,...J(z.pattern,b)},!i))return H(b),O}if(Y){if(Z(Y)){const w=await Y(x,s),b=Qe(w,P);if(b&&(O[L]={...b,...J(z.validate,b.message)},!i))return H(b.message),O}else if(E(Y)){let w={};for(const b in Y){if(!R(w)&&!i)break;const S=Qe(await Y[b](x,s),P,b);S&&(w={...S,...J(b,S.message)},H(S.message),i&&(O[L]=w))}if(!R(w)&&(O[L]={ref:P,...w},!i))return O}}return H(!0),O};function Ut(e,s){const i=s.slice(0,-1).length;let r=0;for(;r<i;)e=k(e)?r++:e[s[r++]];return e}function Bt(e){for(const s in e)if(e.hasOwnProperty(s)&&!k(e[s]))return!1;return!0}function T(e,s){const i=Array.isArray(s)?s:Ne(s)?[s]:st(s),r=i.length===1?e:Ut(e,i),o=i.length-1,l=i[o];return r&&delete r[l],o!==0&&(E(r)&&R(r)||Array.isArray(r)&&Bt(r))&&T(e,i.slice(0,-1)),e}function ke(){let e=[];return{get observers(){return e},next:o=>{for(const l of e)l.next&&l.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(l=>l!==o)}}),unsubscribe:()=>{e=[]}}}var ve=e=>N(e)||!rt(e);function X(e,s){if(ve(e)||ve(s))return e===s;if(ie(e)&&ie(s))return e.getTime()===s.getTime();const i=Object.keys(e),r=Object.keys(s);if(i.length!==r.length)return!1;for(const o of i){const l=e[o];if(!r.includes(o))return!1;if(o!=="ref"){const n=s[o];if(ie(l)&&ie(n)||E(l)&&E(n)||Array.isArray(l)&&Array.isArray(n)?!X(l,n):l!==n)return!1}}return!0}var lt=e=>e.type==="select-multiple",It=e=>Le(e)||ue(e),je=e=>ge(e)&&e.isConnected,ut=e=>{for(const s in e)if(Z(e[s]))return!0;return!1};function pe(e,s={}){const i=Array.isArray(e);if(E(e)||i)for(const r in e)Array.isArray(e[r])||E(e[r])&&!ut(e[r])?(s[r]=Array.isArray(e[r])?[]:{},pe(e[r],s[r])):N(e[r])||(s[r]=!0);return s}function ot(e,s,i){const r=Array.isArray(e);if(E(e)||r)for(const o in e)Array.isArray(e[o])||E(e[o])&&!ut(e[o])?k(s)||ve(i[o])?i[o]=Array.isArray(e[o])?pe(e[o],[]):{...pe(e[o])}:ot(e[o],N(s)?{}:s[o],i[o]):i[o]=!X(e[o],s[o]);return i}var Ee=(e,s)=>ot(e,s,pe(s)),ct=(e,{valueAsNumber:s,valueAsDate:i,setValueAs:r})=>k(e)?e:s?e===""?NaN:e&&+e:i&&$(e)?new Date(e):r?r(e):e;function Oe(e){const s=e.ref;if(!(e.refs?e.refs.every(i=>i.disabled):s.disabled))return Ce(s)?s.files:Le(s)?at(e.refs).value:lt(s)?[...s.selectedOptions].map(({value:i})=>i):ue(s)?nt(e.refs).value:ct(k(s.value)?e.ref.value:s.value,e)}var qt=(e,s,i,r)=>{const o={};for(const l of e){const n=f(s,l);n&&V(o,l,n._f)}return{criteriaMode:i,names:[...e],fields:o,shouldUseNativeValidation:r}},le=e=>k(e)?e:me(e)?e.source:E(e)?me(e.value)?e.value.source:e.value:e,$t=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function et(e,s,i){const r=f(e,i);if(r||Ne(i))return{error:r,name:i};const o=i.split(".");for(;o.length;){const l=o.join("."),n=f(s,l),v=f(e,l);if(n&&!Array.isArray(n)&&i!==l)return{name:i};if(v&&v.type)return{name:l,error:v};o.pop()}return{name:i}}var Ht=(e,s,i,r,o)=>o.isOnAll?!1:!i&&o.isOnTouch?!(s||e):(i?r.isOnBlur:o.isOnBlur)?!e:(i?r.isOnChange:o.isOnChange)?e:!0,Wt=(e,s)=>!oe(f(e,s)).length&&T(e,s);const zt={mode:U.onSubmit,reValidateMode:U.onChange,shouldFocusError:!0};function Kt(e={},s){let i={...zt,...e},r={submitCount:0,isDirty:!1,isLoading:Z(i.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{},disabled:!1},o={},l=E(i.defaultValues)||E(i.values)?K(i.defaultValues||i.values)||{}:{},n=i.shouldUnregister?{}:K(l),v={action:!1,mount:!1,watch:!1},m={mount:new Set,unMount:new Set,array:new Set,watch:new Set},F,_=0;const D={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:ke(),array:ke(),state:ke()},Y=e.resetOptions&&e.resetOptions.keepDirtyValues,L=Ke(i.mode),xe=Ke(i.reValidateMode),ce=i.criteriaMode===U.all,be=t=>a=>{clearTimeout(_),_=setTimeout(t,a)},x=async t=>{if(D.isValid||t){const a=i.resolver?R((await B()).errors):await W(o,!0);a!==r.isValid&&p.state.next({isValid:a})}},P=t=>D.isValidating&&p.state.next({isValidating:t}),H=(t,a=[],u,y,d=!0,c=!0)=>{if(y&&u){if(v.action=!0,c&&Array.isArray(f(o,t))){const h=u(f(o,t),y.argA,y.argB);d&&V(o,t,h)}if(c&&Array.isArray(f(r.errors,t))){const h=u(f(r.errors,t),y.argA,y.argB);d&&V(r.errors,t,h),Wt(r.errors,t)}if(D.touchedFields&&c&&Array.isArray(f(r.touchedFields,t))){const h=u(f(r.touchedFields,t),y.argA,y.argB);d&&V(r.touchedFields,t,h)}D.dirtyFields&&(r.dirtyFields=Ee(l,n)),p.state.next({name:t,isDirty:b(t,a),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else V(n,t,a)},O=(t,a)=>{V(r.errors,t,a),p.state.next({errors:r.errors})},ne=(t,a,u,y)=>{const d=f(o,t);if(d){const c=f(n,t,k(u)?f(l,t):u);k(c)||y&&y.defaultChecked||a?V(n,t,a?c:Oe(d._f)):M(t,c),v.mount&&x()}},ee=(t,a,u,y,d)=>{let c=!1,h=!1;const A={name:t};if(!u||y){D.isDirty&&(h=r.isDirty,r.isDirty=A.isDirty=b(),c=h!==A.isDirty);const j=X(f(l,t),a);h=f(r.dirtyFields,t),j?T(r.dirtyFields,t):V(r.dirtyFields,t,!0),A.dirtyFields=r.dirtyFields,c=c||D.dirtyFields&&h!==!j}if(u){const j=f(r.touchedFields,t);j||(V(r.touchedFields,t,u),A.touchedFields=r.touchedFields,c=c||D.touchedFields&&j!==u)}return c&&d&&p.state.next(A),c?A:{}},_e=(t,a,u,y)=>{const d=f(r.errors,t),c=D.isValid&&G(a)&&r.isValid!==a;if(e.delayError&&u?(F=be(()=>O(t,u)),F(e.delayError)):(clearTimeout(_),F=null,u?V(r.errors,t,u):T(r.errors,t)),(u?!X(d,u):d)||!R(y)||c){const h={...y,...c&&G(a)?{isValid:a}:{},errors:r.errors,name:t};r={...r,...h},p.state.next(h)}P(!1)},B=async t=>i.resolver(n,i.context,qt(t||m.mount,o,i.criteriaMode,i.shouldUseNativeValidation)),J=async t=>{const{errors:a}=await B(t);if(t)for(const u of t){const y=f(a,u);y?V(r.errors,u,y):T(r.errors,u)}else r.errors=a;return a},W=async(t,a,u={valid:!0})=>{for(const y in t){const d=t[y];if(d){const{_f:c,...h}=d;if(c){const A=m.array.has(c.name),j=await Xe(d,n,ce,i.shouldUseNativeValidation&&!a,A);if(j[c.name]&&(u.valid=!1,a))break;!a&&(f(j,c.name)?A?Pt(r.errors,j,c.name):V(r.errors,c.name,j[c.name]):T(r.errors,c.name))}h&&await W(h,a,u)}}return u.valid},w=()=>{for(const t of m.unMount){const a=f(o,t);a&&(a._f.refs?a._f.refs.every(u=>!je(u)):!je(a._f.ref))&&Ve(t)}m.unMount=new Set},b=(t,a)=>(t&&a&&V(n,t,a),!X(Me(),l)),S=(t,a,u)=>Rt(t,m,{...v.mount?n:k(a)?l:$(t)?{[t]:a}:a},u,a),C=t=>oe(f(v.mount?n:l,t,e.shouldUnregister?f(l,t,[]):[])),M=(t,a,u={})=>{const y=f(o,t);let d=a;if(y){const c=y._f;c&&(!c.disabled&&V(n,t,ct(a,c)),d=ge(c.ref)&&N(a)?"":a,lt(c.ref)?[...c.ref.options].forEach(h=>h.selected=d.includes(h.value)):c.refs?ue(c.ref)?c.refs.length>1?c.refs.forEach(h=>(!h.defaultChecked||!h.disabled)&&(h.checked=Array.isArray(d)?!!d.find(A=>A===h.value):d===h.value)):c.refs[0]&&(c.refs[0].checked=!!d):c.refs.forEach(h=>h.checked=h.value===d):Ce(c.ref)?c.ref.value="":(c.ref.value=d,c.ref.type||p.values.next({name:t,values:{...n}})))}(u.shouldDirty||u.shouldTouch)&&ee(t,d,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&we(t)},I=(t,a,u)=>{for(const y in a){const d=a[y],c=`${t}.${y}`,h=f(o,c);(m.array.has(t)||!ve(d)||h&&!h._f)&&!ie(d)?I(c,d,u):M(c,d,u)}},Q=(t,a,u={})=>{const y=f(o,t),d=m.array.has(t),c=K(a);V(n,t,c),d?(p.array.next({name:t,values:{...n}}),(D.isDirty||D.dirtyFields)&&u.shouldDirty&&p.state.next({name:t,dirtyFields:Ee(l,n),isDirty:b(t,c)})):y&&!y._f&&!N(c)?I(t,c,u):M(t,c,u),Ye(t,m)&&p.state.next({...r}),p.values.next({name:t,values:{...n}}),!v.mount&&s()},ae=async t=>{const a=t.target;let u=a.name,y=!0;const d=f(o,u),c=()=>a.type?Oe(d._f):Et(t),h=A=>{y=Number.isNaN(A)||A===f(n,u,A)};if(d){let A,j;const fe=c(),te=t.type===ze.BLUR||t.type===ze.FOCUS_OUT,mt=!$t(d._f)&&!i.resolver&&!f(r.errors,u)&&!d._f.deps||Ht(te,f(r.touchedFields,u),r.isSubmitted,xe,L),Fe=Ye(u,m,te);V(n,u,fe),te?(d._f.onBlur&&d._f.onBlur(t),F&&F(0)):d._f.onChange&&d._f.onChange(t);const De=ee(u,fe,te,!1),vt=!R(De)||Fe;if(!te&&p.values.next({name:u,type:t.type,values:{...n}}),mt)return D.isValid&&x(),vt&&p.state.next({name:u,...Fe?{}:De});if(!te&&Fe&&p.state.next({...r}),P(!0),i.resolver){const{errors:He}=await B([u]);if(h(fe),y){const pt=et(r.errors,o,u),We=et(He,o,pt.name||u);A=We.error,u=We.name,j=R(He)}}else A=(await Xe(d,n,ce,i.shouldUseNativeValidation))[u],h(fe),y&&(A?j=!1:D.isValid&&(j=await W(o,!0)));y&&(d._f.deps&&we(d._f.deps),_e(u,j,A,De))}},de=(t,a)=>{if(f(r.errors,a)&&t.focus)return t.focus(),1},we=async(t,a={})=>{let u,y;const d=Se(t);if(P(!0),i.resolver){const c=await J(k(t)?t:d);u=R(c),y=t?!d.some(h=>f(c,h)):u}else t?(y=(await Promise.all(d.map(async c=>{const h=f(o,c);return await W(h&&h._f?{[c]:h}:h)}))).every(Boolean),!(!y&&!r.isValid)&&x()):y=u=await W(o);return p.state.next({...!$(t)||D.isValid&&u!==r.isValid?{}:{name:t},...i.resolver||!t?{isValid:u}:{},errors:r.errors,isValidating:!1}),a.shouldFocus&&!y&&ye(o,de,t?d:m.mount),y},Me=t=>{const a={...l,...v.mount?n:{}};return k(t)?a:$(t)?f(a,t):t.map(u=>f(a,u))},Re=(t,a)=>({invalid:!!f((a||r).errors,t),isDirty:!!f((a||r).dirtyFields,t),isTouched:!!f((a||r).touchedFields,t),error:f((a||r).errors,t)}),ft=t=>{t&&Se(t).forEach(a=>T(r.errors,a)),p.state.next({errors:t?r.errors:{}})},Pe=(t,a,u)=>{const y=(f(o,t,{_f:{}})._f||{}).ref;V(r.errors,t,{...a,ref:y}),p.state.next({name:t,errors:r.errors,isValid:!1}),u&&u.shouldFocus&&y&&y.focus&&y.focus()},yt=(t,a)=>Z(t)?p.values.subscribe({next:u=>t(S(void 0,a),u)}):S(t,a,!0),Ve=(t,a={})=>{for(const u of t?Se(t):m.mount)m.mount.delete(u),m.array.delete(u),a.keepValue||(T(o,u),T(n,u)),!a.keepError&&T(r.errors,u),!a.keepDirty&&T(r.dirtyFields,u),!a.keepTouched&&T(r.touchedFields,u),!i.shouldUnregister&&!a.keepDefaultValue&&T(l,u);p.values.next({values:{...n}}),p.state.next({...r,...a.keepDirty?{isDirty:b()}:{}}),!a.keepIsValid&&x()},Ue=({disabled:t,name:a,field:u,fields:y,value:d})=>{if(G(t)){const c=t?void 0:k(d)?Oe(u?u._f:f(y,a)._f):d;V(n,a,c),ee(a,c,!1,!1,!0)}},Ae=(t,a={})=>{let u=f(o,t);const y=G(a.disabled);return V(o,t,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:t}},name:t,mount:!0,...a}}),m.mount.add(t),u?Ue({field:u,disabled:a.disabled,name:t}):ne(t,!0,a.value),{...y?{disabled:a.disabled}:{},...i.progressive?{required:!!a.required,min:le(a.min),max:le(a.max),minLength:le(a.minLength),maxLength:le(a.maxLength),pattern:le(a.pattern)}:{},name:t,onChange:ae,onBlur:ae,ref:d=>{if(d){Ae(t,a),u=f(o,t);const c=k(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,h=It(c),A=u._f.refs||[];if(h?A.find(j=>j===c):c===u._f.ref)return;V(o,t,{_f:{...u._f,...h?{refs:[...A.filter(je),c,...Array.isArray(f(l,t))?[{}]:[]],ref:{type:c.type,name:t}}:{ref:c}}}),ne(t,!1,void 0,c)}else u=f(o,t,{}),u._f&&(u._f.mount=!1),(i.shouldUnregister||a.shouldUnregister)&&!(Tt(m.array,t)&&v.action)&&m.unMount.add(t)}}},Be=()=>i.shouldFocusError&&ye(o,de,m.mount),ht=t=>{G(t)&&(p.state.next({disabled:t}),ye(o,a=>{a.disabled=t},0,!1))},Ie=(t,a)=>async u=>{u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let y=K(n);if(p.state.next({isSubmitting:!0}),i.resolver){const{errors:d,values:c}=await B();r.errors=d,y=c}else await W(o);T(r.errors,"root"),R(r.errors)?(p.state.next({errors:{}}),await t(y,u)):(a&&await a({...r.errors},u),Be(),setTimeout(Be)),p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:R(r.errors),submitCount:r.submitCount+1,errors:r.errors})},gt=(t,a={})=>{f(o,t)&&(k(a.defaultValue)?Q(t,f(l,t)):(Q(t,a.defaultValue),V(l,t,a.defaultValue)),a.keepTouched||T(r.touchedFields,t),a.keepDirty||(T(r.dirtyFields,t),r.isDirty=a.defaultValue?b(t,f(l,t)):b()),a.keepError||(T(r.errors,t),D.isValid&&x()),p.state.next({...r}))},qe=(t,a={})=>{const u=t?K(t):l,y=K(u),d=t&&!R(t)?y:l;if(a.keepDefaultValues||(l=u),!a.keepValues){if(a.keepDirtyValues||Y)for(const c of m.mount)f(r.dirtyFields,c)?V(d,c,f(n,c)):Q(c,f(d,c));else{if(Te&&k(t))for(const c of m.mount){const h=f(o,c);if(h&&h._f){const A=Array.isArray(h._f.refs)?h._f.refs[0]:h._f.ref;if(ge(A)){const j=A.closest("form");if(j){j.reset();break}}}}o={}}n=e.shouldUnregister?a.keepDefaultValues?K(l):{}:K(d),p.array.next({values:{...d}}),p.values.next({values:{...d}})}m={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!v.mount&&s(),v.mount=!D.isValid||!!a.keepIsValid,v.watch=!!e.shouldUnregister,p.state.next({submitCount:a.keepSubmitCount?r.submitCount:0,isDirty:a.keepDirty?r.isDirty:!!(a.keepDefaultValues&&!X(t,l)),isSubmitted:a.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:a.keepDirtyValues?r.dirtyFields:a.keepDefaultValues&&t?Ee(l,t):{},touchedFields:a.keepTouched?r.touchedFields:{},errors:a.keepErrors?r.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},$e=(t,a)=>qe(Z(t)?t(n):t,a);return{control:{register:Ae,unregister:Ve,getFieldState:Re,handleSubmit:Ie,setError:Pe,_executeSchema:B,_getWatch:S,_getDirty:b,_updateValid:x,_removeUnmounted:w,_updateFieldArray:H,_updateDisabledField:Ue,_getFieldArray:C,_reset:qe,_resetDefaultValues:()=>Z(i.defaultValues)&&i.defaultValues().then(t=>{$e(t,i.resetOptions),p.state.next({isLoading:!1})}),_updateFormState:t=>{r={...r,...t}},_disableForm:ht,_subjects:p,_proxyFormState:D,get _fields(){return o},get _formValues(){return n},get _state(){return v},set _state(t){v=t},get _defaultValues(){return l},get _names(){return m},set _names(t){m=t},get _formState(){return r},set _formState(t){r=t},get _options(){return i},set _options(t){i={...i,...t}}},trigger:we,register:Ae,handleSubmit:Ie,watch:yt,setValue:Q,getValues:Me,reset:$e,resetField:gt,clearErrors:ft,unregister:Ve,setError:Pe,setFocus:(t,a={})=>{const u=f(o,t),y=u&&u._f;if(y){const d=y.refs?y.refs[0]:y.ref;d.focus&&(d.focus(),a.shouldSelect&&d.select())}},getFieldState:Re}}function Yt(e={}){const s=q.useRef(),i=q.useRef(),[r,o]=q.useState({isDirty:!1,isValidating:!1,isLoading:Z(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},disabled:!1,defaultValues:Z(e.defaultValues)?void 0:e.defaultValues});s.current||(s.current={...Kt(e,()=>o(n=>({...n}))),formState:r});const l=s.current.control;return l._options=e,Mt({subject:l._subjects.state,next:n=>{Lt(n,l._proxyFormState,l._updateFormState,!0)&&o({...l._formState})}}),q.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),q.useEffect(()=>{if(l._proxyFormState.isDirty){const n=l._getDirty();n!==r.isDirty&&l._subjects.state.next({isDirty:n})}},[l,r.isDirty]),q.useEffect(()=>{e.values&&!X(e.values,i.current)?(l._reset(e.values,l._options.resetOptions),i.current=e.values):l._resetDefaultValues()},[e.values,l]),q.useEffect(()=>{l._state.mount||(l._updateValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),s.current.formState=Ct(r,l),s.current}var tt=function(e,s,i){if(e&&"reportValidity"in e){var r=f(i,s);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},dt=function(e,s){var i=function(o){var l=s.fields[o];l&&l.ref&&"reportValidity"in l.ref?tt(l.ref,o,e):l.refs&&l.refs.forEach(function(n){return tt(n,o,e)})};for(var r in s.fields)i(r)},Gt=function(e,s){s.shouldUseNativeValidation&&dt(e,s);var i={};for(var r in e){var o=f(s.fields,r),l=Object.assign(e[r]||{},{ref:o&&o.ref});if(Jt(s.names||Object.keys(e),r)){var n=Object.assign({},Zt(f(i,r)));V(n,"root",l),V(i,r,n)}else V(i,r,l)}return i},Zt=function(e){return Array.isArray(e)?e.filter(Boolean):[]},Jt=function(e,s){return e.some(function(i){return i.startsWith(s+".")})};function Qt(e,s,i){return s===void 0&&(s={}),i===void 0&&(i={}),function(r,o,l){try{return Promise.resolve(function(n,v){try{var m=(s.context,Promise.resolve(e[i.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},s,{context:o}))).then(function(F){return l.shouldUseNativeValidation&&dt({},l),{values:i.raw?r:F,errors:{}}}))}catch(F){return v(F)}return m&&m.then?m.then(void 0,v):m}(0,function(n){if(!n.inner)throw n;return{values:{},errors:Gt((v=n,m=!l.shouldUseNativeValidation&&l.criteriaMode==="all",(v.inner||[]).reduce(function(F,_){if(F[_.path]||(F[_.path]={message:_.message,type:_.type}),m){var D=F[_.path].types,p=D&&D[_.type];F[_.path]=it(_.path,m,F,_.type,p?[].concat(p,_.message):_.message)}return F},{})),l)};var v,m}))}catch(n){return Promise.reject(n)}}}const Xt=xt().shape({name:re().test("nameFirstLetter","First letter must be uppercased",e=>(e==null?void 0:e.slice(0,1))===(e==null?void 0:e.slice(0,1).toUpperCase())).required("The field mustn't be empty"),age:bt().typeError("Must be a number").positive().required("The field mustn't be empty"),email:re().email("e-mail address must contain an '@' and domain name").required("The field mustn't be empty"),gender:re().required("The field mustn't be empty"),password:re().min(8,"Password has to be longer than 8 characters!").required("The field mustn't be empty"),passwordConfirmation:re().oneOf([_t("password")],"Passwords must match").required("The field mustn't be empty"),accept:wt().oneOf([!0],"You must accept the terms and conditions"),image:Vt().test("type","We only support jpeg/png",e=>{var s;return e?e.length>0&&e&&(((s=e[0])==null?void 0:s.type)==="image/jpeg"||e[0].type==="image/png"):!1}).test("fileSize","The file is too large",e=>{var s;return e?e.length>0&&((s=e[0])==null?void 0:s.size)<=1e6:!1}),country:re().required("The field mustn't be empty")});function er(){const e=At(),s=Ft(),i=Dt(_=>_.countries.country),[r,o]=St.useState(""),{register:l,formState:{errors:n},handleSubmit:v}=Yt({mode:"all",resolver:Qt(Xt)}),m=_=>{_.image=URL.createObjectURL(_.image[0]),_.newInfo=!0,e(jt(_)),s("/")};function F(_){o(_.target.value)}return g.jsx("div",{className:"formContainer",children:g.jsxs("form",{onSubmit:v(m),children:[g.jsxs("div",{children:[g.jsx("input",{type:"text",id:"name",placeholder:"Name",...l("name")}),g.jsx("p",{className:"errorMsg",children:(n==null?void 0:n.name)&&(n==null?void 0:n.name.message)})]}),g.jsxs("div",{children:[g.jsx("input",{type:"number",id:"age",placeholder:"Age",...l("age")}),g.jsx("p",{className:"errorMsg",children:(n==null?void 0:n.age)&&`${n==null?void 0:n.age.message}`})]}),g.jsxs("div",{children:[g.jsx("input",{type:"text",id:"email",placeholder:"e-mail",...l("email")}),g.jsx("p",{className:"errorMsg",children:(n==null?void 0:n.email)&&`${n==null?void 0:n.email.message}`})]}),g.jsxs("div",{children:[g.jsx("input",{type:"password",id:"password",placeholder:"Password",...l("password"),onChange:F}),g.jsx("span",{className:"hint",title:"Password must contain at least one lowercase letter (a-z), at least one uppercase letter (A-Z), at least one digit and at least one special character ",children:"?"}),g.jsxs("span",{className:"errorMsg errorPassword",children:[(n==null?void 0:n.password)&&`${n==null?void 0:n.password.message}`," ",r.length>0&&g.jsx(kt,{value:r})]})]}),g.jsxs("div",{children:[g.jsx("input",{type:"password",id:"passwordConfirmation",placeholder:"Password confirmation",...l("passwordConfirmation")}),g.jsx("p",{className:"errorMsg",children:(n==null?void 0:n.passwordConfirmation)&&`${n==null?void 0:n.passwordConfirmation.message}`})]}),g.jsxs("div",{children:[g.jsx("input",{list:"countryList",id:"country",...l("country"),placeholder:"Country"}),g.jsx("datalist",{id:"countryList",children:i.map(_=>g.jsx("option",{value:_},_))}),g.jsx("p",{className:"errorMsg",children:(n==null?void 0:n.country)&&`${n==null?void 0:n.country.message}`})]}),g.jsxs("div",{children:[g.jsx("legend",{children:"Gender:"}),g.jsxs("label",{children:["Woman",g.jsx("input",{type:"radio",id:"woman",...l("gender"),value:"woman"})]}),g.jsxs("label",{children:["Man",g.jsx("input",{type:"radio",id:"man",value:"man",...l("gender")})]}),g.jsx("p",{className:"errorMsg",children:(n==null?void 0:n.gender)&&`${n==null?void 0:n.gender.message}`})]}),g.jsxs("div",{children:[g.jsxs("label",{children:["Picture :",g.jsx("input",{type:"file",id:"image",...l("image")})]}),g.jsx("p",{className:"errorMsg",children:(n==null?void 0:n.image)&&`${n==null?void 0:n.image.message}`})]}),g.jsxs("div",{children:[g.jsxs("label",{children:["Accept terms and conditions",g.jsx("input",{type:"checkbox",id:"accept",...l("accept")})]}),g.jsx("p",{className:"errorMsg",children:(n==null?void 0:n.accept)&&`${n==null?void 0:n.accept.message}`})]}),g.jsx("input",{type:"submit"})]})})}function nr(){return g.jsx(g.Fragment,{children:g.jsxs("div",{children:[g.jsx("h1",{children:"React Hook Form"}),g.jsx(er,{})]})})}export{nr as default};
